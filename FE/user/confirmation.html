<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Viet Holiday</title>
        <link rel="stylesheet" href="confirmation.css">
    </head>

    <header class="header"> 
        <div class="logo">
            <img class="header-logo" src="../image/logo.png" alt="Logo">
        </div>

        <nav class="navbar">
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="about_us.html">About Us</a></li>
                <li><a href="booking.html">Booking</a></li>
                <li><a href="vehicle.html"> Vehicles</a></li>
            </ul>
        </nav>

        <div class="user-account-container">
            <button id="signin-btn">Sign In</button>
        </div>
    </header>
    
    <body>
        <div class="container-general">
            <div class="left-panel">
                <div class="title">
                    <h2>Viet Holiday</h2>
                    <p>Make trip better. Offer you the best service</p>
                </div>
    
                <form class="my-form">
                    <div class="right">
                        <h4>Booking Details</h4>
                        <p>Name</p>
                        <input type="text" class="name" id="name" disabled>
                        <p>Email</p>
                        <input type="text" class="email" id="email" disabled>
                    
                        <p>Phone</p>
                        <input type="text" class="phone" id="phone" disabled>
                        <p>Pick Up Location</p>
                        <input type="text" class="pick-up" id="pick-up" disabled> 
                        <p>Drop Off Location</p>
                        <input type="text" class="destination" id="destination" disabled>
                
                        <p>Pick Up Time</p>
                        <input type="date" class="date" id="date" disabled>
                        <p>Pcik Up Time</p>
                        <input type="time" class="time" id="time" disabled>

                        <select name="payment" id="payment" class="payment">
                            <option value="" selected disabled>Please select a payment method</option>
                            <option value="banking">Banking</option>
                            <option value="cash">Cash</option>
                        </select>

                        <div class="name-field">
                            <h4>Driver Details</h4>
                            <input type="text" class="driver-name" id="driver-name" disabled>
                            <input type="text" class="license" id="license" disabled>
                            <input type="text" class="driver-phone" id="driver-phone" disabled>
                        </div>
                    </div>

                    <div class="left">
                        <h4>Vehicle Details</h4>
                        <input type="text" class="brand" id="brand" disabled> 
                        <input type="text" class="car-name" id="car-name" disabled>
                        <input type="text" class="seatNumber" id="seatNumber" disabled>  
                        <input type="text" class="colour" id="colour" disabled> 
                        <input type="text" class="plate" id="plate" disabled> 
                    </div>

                    <br>
                    <button class="confirm-button">CONFIRM</button>
                </form>
            </div>  
     
            <div class="right-panel">
                <span class="order-summary">Summary</span> <br>
     
                <span>Subtotal:</span>
                <span class="cost" id="subtotal"> </span> <br>
                <span>Tax:</span>
                <span class="cost" id="tax"></span> <br>
                <hr>
                <span>Total:</span>
                <span class="cost" id="total"> </span> <br>
            </div>
        </div>

        <footer class="footer">
            <div class="group-id">
                <span>Group 18</span>
            </div>
        </footer>

        <script src="userScript.js"></script>
        <script>
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user.id');
            const pickupLocation = urlParams.get('pickupLocation');
            const destination = urlParams.get('destination');
            const pickupDate = urlParams.get('pickupDate');
            const pickupTime = urlParams.get('pickupTime');
            const seatsType = urlParams.get('seatsType');
            const childrenInput = urlParams.get('childrenInput');
            const adultInput = urlParams.get('adultInput');
            const vehicleId = urlParams.get('vehicleId');

            document.getElementById('pick-up').value = pickupLocation;
            document.getElementById('destination').value = destination;
            document.getElementById('date').value = pickupDate;
            document.getElementById('time').value = pickupTime;

            if (userId) {
                token(userId);
            }
            
            confirm(userId, pickupLocation, destination, vehicleId, pickupDate, childrenInput, adultInput);
        </script>      
    </body>
</html>